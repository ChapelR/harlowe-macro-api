// dialog.min.js, for Harlow Macro API, by Chapel
;!function(){var d=$(document.createElement("span")).attr("id","dialog-title"),o=$(document.createElement("p")).attr("id","dialog-body"),i=$(document.createElement("div")).attr("id","dialog-frame"),e=$(document.createElement("div")).attr("id","dialog-overlay").addClass("overlay hidden").append(i.append($(document.createElement("div")).attr("id","dialog-header").append(d).append($(document.createElement("a")).attr("id","dialog-close").append("&#10060;").addClass("dialog-close"))).append(o));function r(e){e&&i.addClass(e)}function a(e){d.empty(),d.append(e)}function t(e){o.empty(),o.append(e)}function n(){e.removeClass("hidden"),$(document).trigger(":dialog-open")}function s(){e.addClass("hidden"),$(document).trigger(":dialog-close")}$(document.body).append(e),i.css("font-family",$("#tw-story").css("font-family")||"Georgia, serif"),$(document).on("click",".dialog-close",function(e){e.preventDefault(),e.stopPropagation(),s()}),Harlowe.macro("dialog",function(e,t,n){var a=this.typeCheck(["string|undefined","string|undefined","string|undefined"]);if(a)throw a;i.removeClass(),o.empty(),d.empty(),t&&n&&(t=Harlowe.helpers.arrayify(arguments,1).join(" ")),r(t)},function(e){this.descriptor.target.addClass("in-dialog"),a(e),t(this.descriptor.target),n()}),window.setup=window.setup||{},Object.assign(window.setup,{dialog:{setup:function(e,t,n){i.removeClass(),o.empty(),d.empty(),t&&n&&(t=Harlowe.helpers.arrayify(arguments,1).join(" ")),r(t),a(e)},content:function(e){t(e)},open:n,close:s}})}();
// end dialog.min.js